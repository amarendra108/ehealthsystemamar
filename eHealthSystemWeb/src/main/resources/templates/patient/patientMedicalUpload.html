<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>

<style type="text/css">
 
 
.box-heading {
    height: 48px;
    background-color: #0094cb;
    /* background: url(../Dimages/box-heading.jpg) repeat-x; */
    border-bottom: 1px #dedede solid;
    -webkit-border-top-left-radius: 5px;
    -webkit-border-top-right-radius: 5px;
    -moz-border-radius-topleft: 5px;
    -moz-border-radius-topright: 5px;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    color: #fff;
}

.box-heading h2 {
    font-size: 15px;
    color: #fff;
    /* color: #316aa0; */
    font-weight: bold;
    font-family: Segoe UI,Helvetica,sans-serif;
    padding: 8px;
    float: left;
}

 
h1, .h1, h2, .h2, h3, .h3 {
    margin-top: 5px;
    margin-bottom: 10px;
}

.col-xs-12 {
    width: 100%;
}
.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
    float: left;
}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
    position: relative;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
    font-family: Segoe UI, Helvetica, sans-serif !important;
}

.thumbnail {
    display: block;
    padding: 4px;
    margin-bottom: 20px;
    line-height: 1.42857143;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    -webkit-transition: border .2s ease-in-out;
    -o-transition: border .2s ease-in-out;
    transition: border .2s ease-in-out;
}
a {
    text-decoration: none;
    color: #000;
}

</style>

<!-- <link rel="stylesheet" href="../assets/css/extend/style-extend.css"> -->
<title>Extend</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>

//Document Upload Starts

function checkForDuplicateEntry(event) {
		var document = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var count = 0;
		$(".docNoclss").each(function() {
			if (document == $(this).val()) {
				count++;
			}
		})
		if (count >= 2) {
			$("#candMsg").text("");
			$("#candMsg").text("Document Name Already Entered");
			$("#candValid").modal('show');

			return false;
		} else {
			return true;
		}

	} 

function saveMultiFile(event) {
		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;

		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var extension = fileName.split(".");

		var iURL = URL.createObjectURL(uFile);
		$("#uploadedBillDiv_" + counter).html("");

		if (extension[1] == "jpg" || extension[1] == "png") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-picture-o'></i></a></div>";
		} else if (extension[1] == "pdf") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-pdf-o'></i> </a></div>";
		} else if (extension[1] == "xls" || extension[1] == "xlsx"){
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-excel-o'></i></a></div>";
		}else if (extension[1] == "doc" || extension[1] == "dox" || extension[1] == "docx"  ){
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-word-o'></i></a></div>";
		}else{
			var LightImg = "<div class='uploadicon position-l'> </div>";
		}
		$("#uploadedBillDiv_" + counter).html(LightImg);
		$("#imageName_" + counter).html(fileName);

	}

function checkEmpty(){
	var infofileName =true;
	$('.docNoclss').each(function(){
		if ($(this).val()){
			
		}else{
			infofileName =false;
			
			$("#candMsg").text("");
			$("#candMsg").text("Please Select Document Type");
			$("#candValid").modal('show');
	        return false;
		}
			
	});
	var employeeId = $("#employeeId").val();
	var mulDocInfo =true;
	if(employeeId){
		$('.uploadHidCls').each(function(){
			if ($(this).val()){
				
			}else{
				mulDocInfo = false; 
				
				$("#candMsg").text("");
				$("#candMsg").text("Please Chose a File");
				$("#candValid").modal('show');
		        return false;
			}
				
		});
	}else{
		$('.document').each(function(){
			if ($(this).val()){
				
			}else{
				mulDocInfo = false; 
				
				$("#candMsg").text("");
				$("#candMsg").text("Please Chose a File");
				$("#candValid").modal('show');
	    		return false;
			}
				
		});
	}
	if(infofileName && mulDocInfo){
		addMore1()
	}
} 

function addMore1() {

	var lengthOfTableRow = $("#doctbodyData").children('tr').length;
	var cloneHtml = $("#docTbl tbody tr:first").clone();

	$("#docTbl tbody").append($("#docTbl tbody tr:first").clone());
	$("#myTable tbody tr td:last").html("");
	//var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMore1();"><span class="ti-plus"></span></button>&nbsp;'

	$("#docTbl tbody tr:last").find(".documentclss").val("");
	$("#docTbl tbody tr:last").find(".docNoclss").val("");
	$("#docTbl tbody tr:last").find(".documentclssup").val("");
	$("#docTbl tbody tr:last").find(".uploadedBillCls").empty();
	$("#docTbl tbody tr:last").find(".uploadHidCls").empty();
	$("#docTbl tbody tr:last").find(".uploadHidCls").val('');
	$("#docTbl tbody tr:last").find(".imageName").empty();

	$("#docTbl > #doctbodyData > tr").each(function(i) {

		var selectInput = $(this).find('select');
		var textInput = $(this).find('input');
		var fileInput = $(this).find('file');
		var divInput = $(this).find('div');
		var label = $(this).find('label');
		selectInput.eq(0).attr('id', "docid_" + i);

		//textInput.eq(1).attr('id', "docnoid_" + i);
		textInput.eq(0).attr('id', "uploadDoc_" + i);
		label.eq(0).attr('for', "uploadDoc_" + i);
		label.eq(0).attr('id', "uploadFor_" + i);
		textInput.eq(1).attr('id', "uploadHidden_" + i);
		divInput.eq(4).attr('id', "uploadedBillDiv_" + i);
		divInput.eq(5).attr('id', "imageName_" + i);

	})

}

function saveDoc(){
	var item = {};
	var empId = $("#employeeId").val();
	if(empId){
		
		var imageValid = true;
		var uploadList = [];
		$("#doctbodyData > tr").each(function() {
			var uFile = $(this).find(".document")[0].files[0];
			var fileName = $(this).find(".document").val();
			var data = [];
			var x = [];
			if (fileName != '' && fileName != 'undefined' && fileName != null) {
				var lastIndex = fileName.lastIndexOf("\\");
				if (lastIndex >= 0) {
					fileName = fileName.substring(lastIndex + 1);
				}
				var reader = new FileReader();
				reader.readAsDataURL(uFile);

				reader.onload = function() {
					data = reader.result.split(",");
					x.push(data[1]);
				};
			}else{
				if ($("#vendorRfqId").val()) {
					fileName = $(this).find(".uploadHidCls").val(); 					 
 				}else{
 					 x = []; 
 				}
					
			}
			uploadData = {};
			uploadData['vendorRfqId'] = $("#vendorRfqId").val();
			uploadData['documnentName'] = $(this).find(".docNoclss").val();
			uploadData['documentFile'] = x;
			uploadData['fileName'] = fileName;
			uploadData['imageNameEdit'] = $(this).find(".uploadHidCls").val();
			uploadList.push(uploadData);

		});
		setTimeout(function() {
			
				item.employeeId = empId;
				item.documentList = uploadList;
			
			saveEmployeeDoc(item);
		}, 1000)
		
	} else{
		$("#candMsg").text("");
		$("#candMsg").text("Save the personal details first!");
		$("#candValid").modal('show');
	}
}

function saveEmployeeDoc(item){
	console.log(item)
	$.ajax({
		type : "POST",
		url : "view-manage-employee-add-doc-ajax",
		dataType : "json",
		contentType : "application/json",
		data : JSON.stringify(item),
		success : function(response) {
			$('.loader').hide();
			$("body").removeClass("overlay");
			if (response.message == "Success") {
				
			} else {

				$('.loader').hide();
				$("body").removeClass("overlay");
			}
		},
		error : function(data) {
			console.log(data);
			$('.loader').hide();
			$("body").removeClass("overlay");
		}
	}) //ajax ends 
}

//Document Upload Ends

	$(document)
			.ready(
					function() {

						//Country state city onchange	
						$("#countryid_")
								.change(
										function() {
											var country = $(this).val();
											if (country) {
												$
														.ajax({
															type : "POST",
															url : "view-manage-employee-state-list",
															dataType : 'json',
															contentType : 'application/json',
															data : country,
															success : function(
																	response) {
																if (response.message == "success") {
																	console
																			.log(response);
																	$(
																			"#stateid_")
																			.empty();
																	$(
																			"#stateid_")
																			.append(
																					"<option value=''>Select</option>");
																	$(
																			"#cityid_")
																			.empty();
																	$(
																			"#cityid_")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#stateid_")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#stateid_")
																		.empty();
																$("#stateid_")
																		.append(
																				"<option value=''>Select</option>");
																$("#cityid_")
																		.empty();
																$("#cityid_")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#stateid_").empty();
												$("#stateid_")
														.append(
																"<option value=''>Select</option>");
												$("#cityid_").empty();
												$("#cityid_")
														.append(
																"<option value=''>Select</option>");
											}
										});

						$("#stateid_")
								.change(
										function() {
											var state = $(this).val();
											if (state) {
												$
														.ajax({
															type : "POST",
															url : "view-manage-employee-city-list",
															dataType : 'json',
															contentType : 'application/json',
															data : state,
															success : function(
																	response) {
																if (response.message == "success") {
																	console
																			.log(response);
																	$(
																			"#cityid_")
																			.empty();
																	$(
																			"#cityid_")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#cityid_")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#cityid_")
																		.empty();
																$("#cityid_")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#cityid_").empty();
												$("#cityid_")
														.append(
																"<option value=''>Select</option>");
											}
										});

						//Country state city onchange bank	
						$("#countryid_b")
								.change(
										function() {
											var country = $(this).val();
											if (country) {
												$
														.ajax({
															type : "POST",
															url : "view-manage-employee-state-list-bank",
															dataType : 'json',
															contentType : 'application/json',
															data : country,
															success : function(
																	response) {
																if (response.message == "success") {
																	console
																			.log(response);
																	$(
																			"#stateid_b")
																			.empty();
																	$(
																			"#stateid_b")
																			.append(
																					"<option value=''>Select</option>");
																	$("#cityid")
																			.empty();
																	$("#cityid")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#stateid_b")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#stateid_b")
																		.empty();
																$("#stateid_b")
																		.append(
																				"<option value=''>Select</option>");
																$("#cityid")
																		.empty();
																$("#cityid")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#stateid_b").empty();
												$("#stateid_b")
														.append(
																"<option value=''>Select</option>");
												$("#cityid").empty();
												$("#cityid")
														.append(
																"<option value=''>Select</option>");
											}
										});

						$("#stateid_b")
								.change(
										function() {
											var state = $(this).val();
											if (state) {
												$
														.ajax({
															type : "POST",
															url : "view-manage-employee-city-list-bank",
															dataType : 'json',
															contentType : 'application/json',
															data : state,
															success : function(
																	response) {
																if (response.message == "success") {
																	console
																			.log(response);
																	$("#cityid")
																			.empty();
																	$("#cityid")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#cityid")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#cityid")
																		.empty();
																$("#cityid")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#cityid").empty();
												$("#cityid")
														.append(
																"<option value=''>Select</option>");
											}
										});

						gridOptions.api.setRowData();
						gridOptions1.api.setRowData();
						gridOptions2.api.setRowData();
						gridOptions3.api.setRowData();
						gridOptions4.api.setRowData();
						gridOptionsEmployee.api.setRowData();

						agGrid.simpleHttpRequest({
					    	url : "view-manage-employee-master-through-ajax"
					    }).then(function(data) {
					    	var len = data.length;
							$('#totalEmp').find('span').html(len);
					    	gridOptionsEmployee.api.setRowData(data);
					    });
						
						$("#saveEmployee").click(function() {

							data = {};

							data.employeeId = $("#employeeId").val();
							data.firstName = $("#firstnameid").val();
							data.lastName = $("#lastnameid").val();
							data.gender = $("#genderid").val();
							data.dob = $("#dobid").val();
							data.bloodGroup = $("#bloodgroupid").val();
							data.maritalStatus = $("#maritalstatusid").val();
							data.nationality = $("#nationalityid").val();
							data.fatherName = $("#fatherid").val();
							data.motherName = $("#motherid").val();
							data.mobileNo = $("#mobilenoid").val();
							data.personalMail = $("#personalmailid").val();
							data.workMail = $("#workmailid").val();

							submitemployee(data);

						})
						
						$("#submitworkdetails").click(function() {
							closeNav1()
							data = {};
				
							data.employeeId = $("#employeeId").val();
							data.employeeworkId = $("#workId").val();
							data.startDate = $("#fromdateid_").val();
							data.endDate = $("#todateid_").val();
				
							data.jobTitle = $("#jobtitleid_").val();
							data.jobType = $("#jobtypeid_").val();
							data.department = $("#departmentid_").val();
							data.timesheet = $("#employeetimesheet_").val();
							data.employmentStatus = $("#employmentstatusid_").val();
							data.degination = $("#deginationid_").val();
							data.band = $("#bandid_").val();
							data.manager = $("#managerid_").val();
							data.annualCTC = $("#annualctcid_").val();
							$('#managerDtls').text(data.managerName);
							submitworkdetails(data);
				
						})
						
						var userRole = [];
						$("#savebenifit").click(function() {
						
							data = {};
							
							$("input:checkbox[name=benefits]:checked").each(function() {
								userRole.push($(this).val());
							})
							
							data.employeeId = $("#employeeId").val();
							data.benefits = userRole;
							
							savebenifit(data);
				
						})
						
						$("#submitdependent").click(function() {
							closeNav2()
							data = {};
				
							data.employeeId = $("#employeeId").val();
							data.dependentId = $("#deptId").val();
							data.dependentType = $("#typedid_").val();
							data.dfirstName = $("#typednmaeid_").val();
							data.dlastName = $("#typelnameid").val();
				
							data.depdob = $("#typeDOBidd_").val();
							data.gender = $("#genderidd_").val();
							data.drelationship = $("#relationshipdid_").val();
							
							submitdependent(data);
				
						})
						
						$("#submitbankdetils").click(function() {
							closeNav3()
							data = {};
				
							data.employeeId = $("#employeeId").val();
							data.ebankId = $("#bankId").val();
							data.ebankName = $("#banknameid").val();
							data.ebankAddress = $("#addressid_b").val();
							
							data.ebankCountry = $("#countryid_b").val();
							
				
							data.ebankState = $("#stateid_b").val();
							data.ebankCity = $("#cityid").val();
							data.ebankAccountNo = $("#accountNOb").val();
							data.eIfic = $("#ificb").val();
				
							submitbankdetils(data);
				
						})
						
						$("#submitinsurance").click(function() {
								closeNav4()
								data = {};
					
								data.employeeId = $("#employeeId").val();
								data.einsuraneId = $("#insuranceId").val();
								data.einsurancetype = $("#healthinsuranceid").val();
								data.einsurancecompany = $("#incurancecompanyid").val();
								data.policyno = $("#ploicyNo_").val();
								data.eifromdate = $("#pfdateid_").val();
								data.eitodate = $("#todates").val();
					
								submitinsurance(data);
					
							})
						
					});

	function closeAllNav(){
		closeNav();
		closeNav1();
	}
	
	function cancleBtn(){
		gridOptions.api.setRowData();
		gridOptions1.api.setRowData();
		gridOptions2.api.setRowData();
		gridOptions3.api.setRowData();
		gridOptions4.api.setRowData();
		gridOptionsEmployee.api.setRowData();
		
		/* $("#doctbodyData").empty();
		var tbl = '<tr>' +
		'<td><div class="form-group"><div class="select">' +
		'<select class="form-control docNoclss" id="docnoid_'+0+'"  onselect="checkForDuplicateEntry(event)">' +
		'<option value="">Select</option>'+ div +
		'</select></div></div></td>' +
		'<td><div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_'+0+'" id="uploadFor_'+0+'"> <i class="ti-plus"></i> </label>'+
			'<div class="controls"> <input type="file" class="document" id="uploadDoc_'+0+'" name="userImage" onchange="saveMultiFile(event)" /> </div>'+
		    '</div> <input type="hidden" id="uploadHidden_'+0+'" value="" class="uploadHidCls">'+	
		    '<div id="uploadedBillDiv_'+0+'" align="center" class="uploadedBillCls"><div class="uploadicon position-l"></div></div>'+
		    '<div id="imageName_'+0+'" class="imageName"></div>'+
	    '</td>' + 
		'</tr>';

		$("#doctbodyData").append(tbl); */
		
	$("#emplList").text("");
		$("#forwardto").empty();
		
		$(".benefitChk").prop("checked",false);
		
		$("#newId").show();
		$(".btn-hs").show();
		$("#profile").hide();
		$("#myGridEmployee").show();

		$("#collapseone").collapse({
			toggle : false
		}).collapse('hide');
		
		$("#collapse1").collapse({
			toggle : false
		}).collapse('hide');
		
		$("#employeeId").val("");
		$('#firstnameid').val("");
		$('#lastnameid').val("");
		$('#genderid').val("");
		$('#dobid').val("");
		$('#bloodgroupid').val("");
		$('#maritalstatusid').val("");
		$('#nationalityid').val("");
		$('#fatherid').val("");
		$('#motherid').val("");
		
		$('#mobilenoid').val("");
		$('#personalmailid').val("");
		$('#workmailid').val("");
		
		$('#imgemp').attr('src', '');
		$('#imgemp').attr('src', '../assets/images/noimage.jpg');

		$('#nameDtls').text("");
		
		$('#mobileNoDtls').text("");
		$('#emailDtls').text("");
		$('#managerDtls').text("");

		$('#locationDtls').text("");
		$('#stateDtls').text("");

		$('#managerDtls').text("");
		$('#departmentdtls').text("");
		$('#statusDtls').text("");
		$("#managerId").val("");
		$("#tracking").text("");
		
		agGrid.simpleHttpRequest({
	    	url : "view-manage-employee-master-through-ajax"
	    }).then(function(data) {
	    	var len = data.length;
			$('#totalEmp').find('span').html(len);
	    	gridOptionsEmployee.api.setRowData(data);
	    });
		
		var id = $("#employeeId").val();
		$.ajax({
			type : "GET",
			url : "view-manage-employee-manager-list?id=" + id,
			success : function(response) {
				console.log(response.body)
				if (response.message == "Success") {
					
					$("#managerid_").empty();
					$("#managerid_").append("<option value=''>Select</option>");
					for (var i = 0; i < response.body.length; i++) {
						var option = $("<option></option>");
						$(option).val(response.body[i].key);
						$(option).html(response.body[i].name);
						$("#managerid_").append(option);
					}
				}
			},
			error : function(response) {

			}
		});
	}
	
	// Save Personal Information
	function submitemployee(dataset) {
		
		var validAll = true;
		if (!validationUpdated("First Name Required", "firstnameid")) {
			validAll = false;
		}
		
		if (!validationUpdated("Last Name Required", "lastnameid")) {
			validAll = false;
		}
		
		if(validAll){
			
			$('#nameDtls').text(data.firstName + " " + data.lastName);
			$('#mobileNoDtls').text(data.mobileNo);
			$('#emailDtls').text(data.personalMail);
			
			$('.loader').show();
			$("body").addClass("overlay");
			
			$.ajax({
				type : "POST",
				url : "view-manage-employee-master-save",
				dataType : "json",
				contentType : "application/json",
				data : JSON.stringify(dataset),
				success : function(response) {
					if (response.message == "Success") {
			
						$('.loader').hide();
						$("body").removeClass("overlay");
						
						$('#candMsg').text("");
						$('#candValid').modal('toggle');
						$('#candMsg').text("Data Saved Successfully");
						
						$("#employeeId").val("");
						$("#employeeId").val(response.body.employeeId);
						
						var id = $("#employeeId").val();
						$.ajax({
							type : "GET",
							url : "view-manage-employee-manager-list?id=" + id,
							success : function(response) {
								console.log(response.body)
								if (response.message == "Success") {
									
									$("#managerid_").empty();
									$("#managerid_").append("<option value=''>Select</option>");
									for (var i = 0; i < response.body.length; i++) {
										var option = $("<option></option>");
										$(option).val(response.body[i].key);
										$(option).html(response.body[i].name);
										$("#managerid_").append(option);
									}
								}
							},
							error : function(response) {

							}
						});
						
					} else {
						swal({
							title : response.code,
							text : response.message,
							type : "warning"
						})
					}
				},
				error : function(response) {
					console.log(response);
				}
			})
		}
	}
	
	//Profile Image Upload & Delete Strats
	
	function saveFile() {

		var uFile = $('#fileUpload')[0].files[0];
		var fileName = $('#fileUpload').val();

		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var iURL = URL.createObjectURL(uFile);

		$('#imgemp').attr('src', '');
		$('#imgemp').attr('src', iURL);

		var fileData = new FormData();
		fileData.append('file', uFile);
		fileData.append('path', 'none');

		$.ajax({
			type : "POST",
			url : "view-manage-employee-upload-file",
			enctype : "multipart/form-data",
			contentType : false,
			data : fileData,
			processData : false,
			cache : false,
			success : function(response) {

			},
			error : function(e) {

			}
		});
	}

	function deleteFile() {

		$('#imgemp').attr('src', '');
		$('#imgemp').attr('src', '../assets/images/noimage.jpg');

		var fileData = new FormData();

		fileData.append('file', 'none');
		fileData.append('path', 'none');

		$.ajax({
			type : "POST",
			url : "view-manage-employee-delete-file",
			enctype : "multipart/form-data",
			contentType : false,
			/* data        : fileData, */
			processData : false,
			cache : false,
			success : function(response) {
				console.log("ABC")
			},
			error : function(e) {

			}
		});
	}
	
	//Profile Image Upload & Delete Ends
	
	
	function profileSelect() {
		$('#newId').hide();
		$("#profile").show();
		$("#collapseone").collapse({
			toggle : false
		}).collapse('show');
		
		var id = $("#employeeId").val();
		$.ajax({
			type : "GET",
			url : "view-manage-employee-manager-list?id=" + id,
			success : function(response) {
				console.log(response.body)
				if (response.message == "Success") {
					
					$("#managerid_").empty();
					$("#managerid_").append("<option value=''>Select</option>");
					for (var i = 0; i < response.body.length; i++) {
						var option = $("<option></option>");
						$(option).val(response.body[i].key);
						$(option).html(response.body[i].name);
						$("#managerid_").append(option);
					}
				}
			},
			error : function(response) {

			}
		});
	
		gridOptions.api.setRowData();
		gridOptions1.api.setRowData();
		gridOptions2.api.setRowData();
		gridOptions3.api.setRowData();
		gridOptions4.api.setRowData();
		gridOptionsEmployee.api.setRowData();
	}
	
	//Table For Employee Details Starts
	var columnDefsEmployee = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true
				
			},
			{
				headerName : "Employee Id",
				field : "employeeId",
				cellRenderer : function(params) {
					return '<a onclick=editemppersonal("'
							+ params.data.employeeId
							+ '") href="javascript:void(0)">'
							+ params.data.employeeId + '</a>';
				}
			}, {
				headerName : "Employee Name",
				field : "firstName",
				cellRenderer : function(params) {
					return '<div>'+ params.data.firstName + ' ' + params.data.lastName + '</div>';
				}
			}, {
				headerName : "Gender",
				field : "gender"
			}, {
				headerName : "Dob",
				field : "dob",
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "MobileNo",
				field : "mobileNo",
				type:"rightAligned"
			}, {
				headerName : "	PersonalMail",
				field : "personalMail"
			}, {
				headerName : "WorkMail",
				field : "WorkMail"
			},

	];

	var gridOptionsEmployee = {
		columnDefs : columnDefsEmployee,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 152,
			height : 10
		}

	};
	
	function getTemEmplDtls(id){
		$("#emplList").text("");
		$("#forwardto").append("");
		editemppersonal(id);
	}
	
	function editemppersonal(id){
		
		$("#emplList").text("");
		$("#forwardto").empty();
		//Employee Team
		$.ajax({
			type : "GET",
			url : "view-manage-employee-team-list?id=" + id,
			success : function(response) {
				console.log(response.body)
				if (response.message == "Success") {
					if(response.body.length > 0) {
						console.log("ABCDEF")
						var div = "";
						for (var i = 0; i < response.body.length; i++) {
							$("#emplList").text(response.body.length);
							
							div = div + "<div><a href='javascript:void(0)' onclick='getTemEmplDtls(\""+ response.body[i].key +"\")'>"+ response.body[i].name +"</a></div>";
						}
						$("#forwardto").append(div);
					}else{
						$("#emplList").text("0");
					}
					
				}
			},
			error : function(response) {

			}
		});
		
		//Get Manager List
		$.ajax({
			type : "GET",
			url : "view-manage-employee-manager-list?id=" + id,
			success : function(response) {
				console.log(response.body)
				if (response.message == "Success") {
					
					$("#managerid_").empty();
					$("#managerid_").append("<option value=''>Select</option>");
					for (var i = 0; i < response.body.length; i++) {
						var option = $("<option></option>");
						$(option).val(response.body[i].key);
						$(option).html(response.body[i].name);
						$("#managerid_").append(option);
					}
				}
			},
			error : function(response) {

			}
		});
		
		$("#tracking").text("");
		
		agGrid
		.simpleHttpRequest(
				{
					url : 'view-manage-employee-address-through-ajax?id='
							+ id
				}).then(function(data) {
			gridOptions.api.setRowData(data);
		});
		
		agGrid.simpleHttpRequest({
			url : 'view-manage-employee-work-ajax?id=' + id
		}).then(function(data) {
			console.log("dataa" + JSON.stringify(data))
			gridOptions1.api.setRowData(data);
		});
		
		$('#newId').hide();
		$("#profile").show();
		$('#candidateDetailsBar').show();
		
		$('#tracking').show();
		$("#demo").show();		
		$("#profile").show();		
		$("#myGridm").hide();
		
		$("#collapse1").collapse({
			toggle : false
		}).collapse('show');
		
		$("#collapseEight").collapse({
			toggle : false
		}).collapse('hide');
					 	
				if(id) {
					$.ajax({
						type : "POST",
						url : "view-manage-employee-master-edit?employeeId="+id,
						contentType : 'application/json',
						success : function(response) {
							
							if (response.message == "success") {
								console.log(response.body);
								$("#main").show();
								$ ("#employeeId").val(response.body.employeeId);
								$('#firstnameid').val(response.body.firstName);
	 							$('#lastnameid').val(response.body.lastName);
								$('#genderid').val(response.body.gender);
								
								$('#dobid').val(response.body.dob);
								$('#dobidCalendar').val(response.body.dob);
								
								$('#bloodgroupid').val(response.body.bloodGroup);
								$('#maritalstatusid').val(response.body.maritalStatus);
								$('#nationalityid').val(response.body.nationality);
								$('#fatherid').val(response.body.fatherName);
								$('#motherid').val(response.body.motherName);
								
								$('#mobilenoid').val(response.body.mobileNo);
								$('#personalmailid').val(response.body.personalMail);
								$('#workmailid').val(response.body.workMail);
								
								$("#collapseone").collapse({
									toggle : false
								}).collapse('hide');
								
								$('#imgemp').attr('src', '');
								if(response.body.fileEmployeeimg!=null && response.body.fileEmployeeimg!="") {
									$('#imgemp').attr('src', response.body.fileEmployeeimg);
								} else {
									$('#imgemp').attr('src', '../assets/images/noimage.jpg');
								}
								$('#nameDtls').text(response.body.firstName + " " + response.body.lastName);
								
								
								
								$('#mobileNoDtls').text(response.body.mobileNo);
								$('#emailDtls').text(response.body.personalMail);
								$('#managerDtls').text(response.body.manager);
								
								$.ajax({
									type : "GET",
									url : "view-manage-employee-benifit-ajax?id=" + id,
									success : function(response) {
										console.log(response.body)
										if (response.message == "Success") {
											
											for (var i = 0; i < response.body.length; i++) {
												$("#" + response.body[i].ebenifitId).prop("checked",true);
											}
										}
									},
									error : function(response) {

									}
								});
								
								var datas = '';
								agGrid .simpleHttpRequest( {
											url : 'view-manage-employee-address-through-ajax?id='
													+ response.body.employeeId
										}).then(function(data) {  
											var datas = '';
											var datas1 = '';
											gridOptions.api.setRowData(data);
											for(var i = 0 ; i < data.length ; i++){
												datas = data[i].address;
												datas1 = data[i].state;
												console.log(datas)
											}
											$('#locationDtls').text(datas);
											$('#stateDtls').text(datas1);
											
									});
									
									
								
								agGrid.simpleHttpRequest({
									url : 'view-manage-employee-work-ajax?id=' + response.body.employeeId
								}).then(function(data) {
									gridOptions1.api.setRowData(data);
									
									var datas3 = '';
									var datas4 = '';
									var datas5 = '';
									var managerId = '';
									for(var i = 0 ; i < data.length ; i++){
										datas3 = data[i].managerName;
										datas4= data[i].department;
										datas5= data[i].employmentStatus;
										managerId =  data[i].manager;
										
									}
									$('#managerDtls').text(datas3);
									$('#departmentdtls').text(datas4);
									$('#statusDtls').text(datas5);
									$("#managerId").val(managerId);
									var div = '';
									gridOptions1.api.forEachNode(function(rowNode,index){
										div = div + '<div class="tracking-item"><div class="tracking-icon status-intransit"></div>'+
											'<div class="tracking-content"><span>'+rowNode.data.startDate+' : '+rowNode.data.jobTitle+  '  -  '+rowNode.data.jobType+  ' ( '+rowNode.data.department+' )</span></div></div>';
									});
									$("#tracking").append(div);
								});
								
								
						 	
								
								 agGrid.simpleHttpRequest({
									url : 'view-manage-employee-dependent-ajax?id=' + id
								}).then(function(data) {
									gridOptions2.api.setRowData(data);
								});

								 agGrid.simpleHttpRequest({
									url : 'view-manage-employee-bankdetails-ajax?id=' + id

								}).then(function(data) {
									gridOptions3.api.setRowData(data);
								});
								agGrid.simpleHttpRequest({
									url : ' view-manage-employee-insurancedetails-ajax?id=' + id

								}).then(function(data) {
									gridOptions4.api.setRowData(data);
								});
								
								$.ajax({
									type : "GET",
									url : "view-manage-employee-edit-doc-ajax?id=" + id,
									success : function(response) {
										console.log(response.body)
										if (response.message == "success") {
											
											$("#doctbodyData").empty();
											
											var len = response.body[0].drop.length;
											var div = "";
											
											
											
											for(var i = 0 ;i < response.body.length ; i++){ 
												
												for(var j = 0 ;j < len ; j++){ 
													
													div = div + '<option value="'+response.body[0].drop[j].key+'" >' +response.body[0].drop[j].name+'</option>';
												}
											
											var tbl = '<tr>' +
												'<td><div class="form-group"><div class="select">' +
												'<select class="form-control docNoclss" id="docnoid_'+i+'"  onselect="checkForDuplicateEntry(event)">' +
												'<option value="">Select</option>'+ div +
												'</select></div></div></td>' +
												'<td><div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_'+i+'" id="uploadFor_'+i+'"> <i class="ti-plus"></i> </label>'+
													'<div class="controls"> <input type="file" class="document" id="uploadDoc_'+i+'" name="userImage" onchange="saveMultiFile(event)" /> </div>'+
												    '</div> <input type="hidden" id="uploadHidden_'+i+'" value="'+response.body[i].fileName+'" class="uploadHidCls">'+	
												    '<div id="uploadedBillDiv_'+i+'" align="center" class="uploadedBillCls"><div class="uploadicon position-l">'+ response.body[i].action+'</div></div>'+
												    '<div id="imageName_'+i+'" class="imageName">'+response.body[i].fileName +'</div>'+
											    '</td>' + 
												'</tr>';

												$("#doctbodyData").append(tbl);
												
												$("#docnoid_"+i).val(response.body[i].documnentName)
											}
										}
									},
									error : function(response) {

									}
								});
								
							}
						}, error : function(data) {
							console.log(data)
						}
					});
				}
			}
	//Table For Employee Details Ends
	
	
	//Employee Address Starts
		
	var columnDefs = [ /* {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		width : 10,
		sortable : false,
		filter : false,
		resizable : true
	}, */ {
		headerName : "Type",
		field : "typeid",
		cellRenderer : function(params) {
			return '<div>' + params.data.type + '</div>';
		},
	}, {
		headerName : "Address",
		field : "address"
	}, {
		headerName : "Country",
		field : "countryid",
		cellRenderer : function(params) {
			return '<div>' + params.data.country + '</div>';
		},
	}, {
		headerName : "State",
		field : "stateid",
		cellRenderer : function(params) {
			return '<div>' + params.data.state + '</div>';
		},
	}, {
		headerName : "City",
		field : "cityid",
		cellRenderer : function(params) {
			return '<div>' + params.data.city + '</div>';
		},
	}, {
		headerName : "Zipcode",
		field : "zipCode",
		type:"rightAligned"
	}, {
		headerName : "Status",
		field : "status",
		cellRenderer : function(params) {
			return '<div>' + params.data.statusId + '</div>';
		}
	},

	];

	var gridOptions = {
		columnDefs : columnDefs,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 249,
			height : 10
		},
		rowSelection : 'single',
		rowMultiSelectWithClick: true,
		onSelectionChanged : onSelectionChangedaddress
	};
	
	function openNav() {
		$('#saveEmployee').attr("disabled", true);
		$('#profilecancelbtn').attr("disabled", true);
		
		$('#addressIdh').val("");
		$('#typeid_').val("");
		$('#addressid_').val("");
		$('#countryid').val("");
		$('#stateid_').val("");
		$('#countryid_').val("");
		$('#zipcodeid_').val("");
		$('#Status_').val("");
		
		document.getElementById("mySidenav").style.cssText = "width: 350px; position: absolute; right:-55px; overflow: hidden; height:auto;bottom:100px;";

		document.getElementById("main").style.width = "70%";
		
		
	}

	function closeNav() {
		$('#saveEmployee').attr("disabled", false);
		$('#profilecancelbtn').attr("disabled", false);
		var id = $('#employeeId').val();
		agGrid
		.simpleHttpRequest(
				{
					url : 'view-manage-employee-address-through-ajax?id='
							+ id
				}).then(function(data) {
			gridOptions.api.setRowData(data);
		});
		
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}

	function saveAddress(){
		closeNav()
		data = {};

		data.employeeId = $("#employeeId").val();
		data.addressId = $("#addressIdh").val();
		data.type = $("#typeid_").val();
		data.address = $("#addressid_").val();

		data.city = $("#cityid_").val();
		data.state = $("#stateid_").val();
		data.country = $("#countryid_").val();
		data.zipCode = $("#zipcodeid_").val();
		data.status = $("#Status_").val();
		$('#locationDtls').text(data.address);
		
		var id = $("#employeeId").val();
		if(id!=null && id != ""){
			$.ajax({
					type : "POST",
					url : "view-manage-employee-address-save",
					dataType : "json",
					contentType : "application/json",
					data : JSON.stringify(data),
					success : function(response) {
						if (response.message == "Success") {

							console.log(response.body)

							agGrid
									.simpleHttpRequest(
											{
												url : 'view-manage-employee-address-through-ajax?id='
														+ id
											}).then(function(data) {
										gridOptions.api.setRowData(data);
									});

						} else {
							swal({
								title : response.code,
								text : response.message,
								type : "warning"
							})
						}
					},
					error : function(response) {
						console.log(response);
					}
				})
		} else{
			$("#candValid").modal("toggle");
			$("#candMsg").text("");
			$("#candMsg").text("Save the personal details first!");
		}
	}
	
function onSelectionChangedaddress(){
		
		openNav();
		
		var selectedNodes= gridOptions.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		var cntryId1 = selectedData.map(node => node.countryid);
		var stsId1 = selectedData.map(node => node.stateid);
		console.log(cntryId1[0])

		$('#countryid_').val(cntryId1[0]);
		/* city
		state
		country */
		$.ajax({
			type : "POST",
			url : "view-manage-employee-state-list", 
			dataType : 'json',
			contentType : 'application/json',
			data : cntryId1[0],
			success : function(response) {
				if (response.message == "success") {
					console.log(response);
					$("#stateid_").empty();
					$("#stateid_").append("<option value=''>Select</option>");
					$("#cityid_").empty();
					$("#cityid_").append("<option value=''>Select</option>");
					
					for (var i = 0; i < response.body.length; i++) {
						var option = $("<option></option>");
						$(option).val(response.body[i].key);
						$(option).html(response.body[i].name);
						$("#stateid_").append(option);
					}
					
					var state = selectedData.map(node => node.stateid);
					console.log(state[0])
					$('#stateid_').val(state[0]);
				}
			},
			error : function(data) {
				console.log(data);
				$("#stateid_").empty();
				$("#stateid_").append("<option value=''>Select</option>");
				$("#cityid_").empty();
				$("#cityid_").append("<option value=''>Select</option>");
			}
		})
		
		$.ajax({
				type : "POST",
				url : "view-manage-employee-city-list",
				dataType : 'json',
				contentType : 'application/json',
				data : stsId1[0],
				success : function(response) {
					if (response.message == "success") {
						console.log(response);
						$("#cityid_").empty();
						$("#cityid_").append("<option value=''>Select</option>");
						
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#cityid_").append(option);
						}
						
						var cityID1 = selectedData.map(node => node.cityid);
						console.log(cityID1[0])
						$('#cityid_').val(cityID1[0]);
						
					}
				},
				error : function(data) {
					console.log(data);
					$("#cityid_").empty();
					$("#cityid_").append("<option value=''>Select</option>");
				}
			})
		
		
		$('#addressIdh').val(selectedData.map(node => node.addressId));
		$('#typeid_').val(selectedData.map(node => node.typeid));
		$('#addressid_').val(selectedData.map(node => node.address));
		 $('#countryid_').val(selectedData.map(node => node.countryid));
		
		$('#zipcodeid_').val(selectedData.map(node => node.zipCode));
		$('#Status_').val(selectedData.map(node => node.status))
		
		
	}
	
	function deleteAddress(){
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
		selectedRowsString += ',';
		}
		selectedRowsString += '"' + selectedRow.addressId + '"';
		});
		
		if (selectedRowsString) {
	
			var id = $('#employeeId').val();
			
			$.ajax({
				type : "GET",
				url : "view-manage-employee-address-delete?id="+ selectedRowsString,
				success : function(response) {
				if (response.message == "Success") {
					console.log("in side succ")
					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-address-through-ajax?id=' + id
					}).then(function(data) {
						//$('#addressId').val(data[0].addressId);
						gridOptions.api.setRowData(data);
					});
				}
				},
				error : function(data) {
				console.log(data);
				}
			})
		} else {
			$('#reqValid').modal('toggle');
		}
	}
	
	//Employee Address Ends
	
	//EMPLOYEE WORK DETAILS STARTS
	
	var columnDefs1 = [
	{
				headerName : "Start Date",
				field : "employeeworkId",
				cellRenderer: function(params){
					return '<div>' + params.data.startDate + '</div>';},
				cellStyle : {
						textAlign : 'center'
					}
	},
	{
		headerName : "End Date",
		field : "endDate",
		cellStyle : {
			textAlign : 'center'
		}
	}, 
	{
		headerName : "Job Title",
		field : "jobTitle"
	},
	{
		headerName : "Job Type",
		field : "jobTypeid",
		cellRenderer: function(params){
			return '<div>' + params.data.jobType + '</div>';},
	}, {
		headerName : "Department",
		field : "departmentid",
		cellRenderer: function(params){
			return '<div>' + params.data.department + '</div>';},
	},
	{
		headerName : "Timesheet",
		field : "timesheetid",
		cellRenderer: function(params){
			return '<div>' + params.data.timesheet + '</div>';},
	}, 
	{
		headerName : "Employment Status",
		field : "employmentStatusid",
		cellRenderer: function(params){
			return '<div>' + params.data.employmentStatus + '</div>';},
	},  {
		headerName : "	Degination",
		field : "degination"
	}, {
		headerName : "Band",
		field : "bandid",
		cellRenderer: function(params){
			return '<div>' + params.data.band + '</div>';},
	},  {
		headerName : "Manager",
		field : "manager",
		cellRenderer: function(params){
			return '<div>' + params.data.managerName + '</div>';}
	}, {
		headerName : "	Annual CTC",
		field : "annualCTC",
		type:"rightAligned",
		valueFormatter: currencyFormatter
	},

	];

	var gridOptions1 = {
		columnDefs : columnDefs1,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		},
		rowSelection: 'single',
		rowMultiSelectWithClick: true,
		onSelectionChanged: onSelectionChangedwork
	};
	
	function openNav1() {
		$('#saveEmployee').attr("disabled", true);
		$('#profilecancelbtn').attr("disabled", true);
		$('#deptId').val("");
		$('#typedid_').val("");
		$('#typednmaeid_').val("");
		$('#typelnameid').val("");
		$('#typeDOBidd_').val("");
		$('#genderidd_').val("");
		$('#relationshipdid_').val("");
		
		document.getElementById("mySidenav1").style.cssText = "width: 350px; position: absolute; right:-55px; overflow: hidden; height:auto; bottom:50px;";

		document.getElementById("main").style.width = "72%";
		
	}

	function closeNav1() {
		var id = $("#employeeId").val();
		$('#saveEmployee').attr("disabled", false);
		$('#profilecancelbtn').attr("disabled", false);
		agGrid.simpleHttpRequest({
			url : 'view-manage-employee-work-ajax?id=' + id
		}).then(function(data) {
			console.log("dataa" + JSON.stringify(data))
			gridOptions1.api.setRowData(data);
		});
		
		document.getElementById("mySidenav1").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}
	
	function submitworkdetails(dataset) {
		var id = $("#employeeId").val();
		$.ajax({
			type : "POST",
			url : "view-manage-employee-workdetails-save",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(dataset),
			success : function(response) {
				if (response.message == "Success") {

					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-work-ajax?id=' + id
					}).then(function(data) {
						console.log("dataa" + JSON.stringify(data))
						gridOptions1.api.setRowData(data);
					});

				}
			},
			error : function(response) {
				console.log(response);
			}
		})
	}
	
function onSelectionChangedwork(){
		
		openNav1();
		
		var selectedNodes= gridOptions1.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		$('#workId').val(selectedData.map(node => node.employeeworkId));
		
		var start = selectedData.map(node => node.startDate);
		var end = selectedData.map(node => node.endDate);
		
		$('#fromdateid_').val(start[0]);
		$('#todateid_').val(end[0]);
		
		$('#fromdateidCalendar').val(start[0]);
		$('#todateidCalendar').val(end[0]);
		
		$('#jobtitleid_').val(selectedData.map(node => node.jobTitle));
		$('#jobtypeid_').val(selectedData.map(node => node.jobTypeid));
		$('#departmentid_').val(selectedData.map(node => node.departmentid));
		$('#employeetimesheet_').val(selectedData.map(node => node.timesheetid));
		$('#employmentstatusid_').val(selectedData.map(node => node.employmentStatusid));
		$('#deginationid_').val(selectedData.map(node => node.degination));
		$('#bandid_').val(selectedData.map(node => node.bandid));
		$('#managerid_').val(selectedData.map(node => node.manager));
		
		$('#annualctcid_').val(selectedData.map(node => node.annualCTC))
		
	}
	
function deletework(){
	var selectedRows = gridOptions1.api.getSelectedRows();
	var selectedRowsString = '';
	selectedRows.forEach(function(selectedRow, index) {
	if (index > 0) {
	selectedRowsString += ',';
	}
	selectedRowsString += '"' + selectedRow.employeeworkId + '"';
	});
	
	if (selectedRowsString) {
		var id = $('#employeeId').val();
		
		$.ajax({
			type : "GET",
			url : "view-manage-employee-work-delete?id="+ selectedRowsString,
			success : function(response) {
			if (response.message == "Success") {
				closeNav1();
				agGrid.simpleHttpRequest({
					url : 'view-manage-employee-work-ajax?id=' + id
				}).then(function(data) {
					//$('#addressId').val(data[0].addressId);
					gridOptions1.api.setRowData(data);
				});
			}
			},
			error : function(data) {
			console.log(data);
			}
		})
	} else {
		$('#reqwork').modal('toggle');
	}
}
	
	function getManagerDtls(){
		var id = $("#managerId").val();
		editemppersonal(id);
	}
	
	//EMPLOYEE WORK DETAILS ENDS
	
	//EMPLOYEE BENIFITS STARTS
	
	function savebenifit(dataset){
	
		$('.loader').show();
		$("body").addClass("overlay");
		
				$.ajax({
					type		: "POST",
					url 		: "view-manage-employee-benifit",
					dataType	: "json",
					contentType	: "application/json",
					data		: JSON.stringify(dataset),
					success		: function(response){
						//console.log(response);
						if(response.message=="Success"){

							$('.loader').hide();
							$("body").removeClass("overlay");
													
							$('#candMsg').text("");
							$('#candValid').modal('toggle');
							$('#candMsg').text("Benefits Saved Successfully");
						}
							
					},error		: function(data){
						console.log(data);
						
					}
				}) //ajax ends
		
	}
	
	//EMPLOYEE BENIFITS ENDS
	
	
	//EMPLOYEE DEPENDENT STARTS
	
	var columnDefs2 = [ 
	{
				headerName : "Type",
				field : "dependentType",
				cellRenderer: function(params){
					return '<div>' + params.data.dependentTypeName + '</div>';},
			}, {
		headerName : "First Name",
		field : "dfirstName"
	}, {
		headerName : "Last Name",
		field : "dependentId",
		cellRenderer: function(params){
			return '<div>' + params.data.dlastName + '</div>';}
	}, {
		headerName : "DOB",
		field : "depdob",
		cellStyle : {
			textAlign : 'center'
		}
	}, {
		headerName : "Gender",
		field : "genderid",
		cellRenderer : function(params) {
			return '<div>' + params.data.gender + '</div>';
		}
	},  {
		headerName : "Relationship",
		field : "drelationship",
		cellRenderer : function(params) {
			return '<div>' + params.data.relationshipName + '</div>';
		}
	},

	];

	var gridOptions2 = {
		columnDefs : columnDefs2,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 240,
			height : 10
		},
		rowSelection: 'single',
		rowMultiSelectWithClick: true,
		onSelectionChanged: onSelectionChangeddependent
	};
	
function openNav2() {
	$('#saveEmployee').attr("disabled", true);
	$('#profilecancelbtn').attr("disabled", true);
		$('#deptId').val("");
		$('#typedid_').val("");
		$('#typednmaeid_').val("");
		$('#typelnameid').val("");
		$('#typeDOBidd_').val("");
		$('#genderidd_').val("");
		$('#relationshipdid_').val("");
		
		document.getElementById("mySidenav2").style.cssText = "width: 350px; position: absolute; right:-55px; overflow: hidden; height:auto; bottom:50;";

		document.getElementById("main").style.width = "70%";
	}

	function closeNav2() {
		
		var id = $("#employeeId").val();
		$('#saveEmployee').attr("disabled", false);
		$('#profilecancelbtn').attr("disabled", false);
		agGrid.simpleHttpRequest({
			url : 'view-manage-employee-dependent-ajax?id=' + id
		}).then(function(data) {
			console.log("dataa" + JSON.stringify(data))
			gridOptions2.api.setRowData(data);
		});
		
		document.getElementById("mySidenav2").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}

	function submitdependent(dataset) {
		var id = $("#employeeId").val();
		$.ajax({
			type : "POST",
			url : "view-manage-employee-dependent-save",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(dataset),
			success : function(response) {
				if (response.message == "Success") {

					console.log(response.body)

					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-dependent-ajax?id=' + id
					}).then(function(data) {
						console.log("dataa" + JSON.stringify(data))
						gridOptions2.api.setRowData(data);
					});

				} 
			},
			error : function(response) {
				console.log(response);
			}
		})
	}
	
	function onSelectionChangeddependent(){
		
		openNav2();
		
		var selectedNodes= gridOptions2.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		$('#deptId').val(selectedData.map(node => node.dependentId));
		$('#typedid_').val(selectedData.map(node => node.dependentType));
		$('#typednmaeid_').val(selectedData.map(node => node.dfirstName));
		$('#typelnameid').val(selectedData.map(node => node.dlastName));
		
		var dob = selectedData.map(node => node.depdob);
		$('#typeDOBidd_').val(dob[0]);
		$("#typeDOBiddCalendar").val(dob[0]);
		
		$('#genderidd_').val(selectedData.map(node => node.genderid));
		$('#relationshipdid_').val(selectedData.map(node => node.drelationship))
		
	}
	
	
	function deleteDEPENDENT(){
		var selectedRows = gridOptions2.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
		selectedRowsString += ',';
		}
		selectedRowsString += '"' + selectedRow.dependentId + '"';
		});
		
		if (selectedRowsString) {
			
			var id = $('#employeeId').val();
			
			$.ajax({
				type : "GET",
				url : "view-manage-employee-dependent-delete?id="+ selectedRowsString,
				success : function(response) {
				if (response.message == "Success") {
					closeNav2();
					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-dependent-ajax?id=' + id
					}).then(function(data) {
						gridOptions2.api.setRowData(data);
					});
				}
				},
				error : function(data) {
				console.log(data);
				}
			})
		} else {
			$('#reqDEPDNT').modal('toggle');
		}
	}
	
	//EMPLOYEE DEPENDENT ENDS
	
	//EMPLOYEE BAN DETAILS STARTS
	
	var columnDefs3 = [
	{
		headerName : "Bank Name",
		field : "ebankNameid",
		cellRenderer: function(params){
			return '<div>' + params.data.ebankName + '</div>';},
	},  {
		headerName : "Address",
		field : "ebankAddress"
	}, {
		headerName : "City",
		field : "ebankCityid",
		cellRenderer: function(params){
			return '<div>' + params.data.ebankCity + '</div>';},
	}, {
		headerName : "State",
		field : "ebankStateid",
		cellRenderer: function(params){
			return '<div>' + params.data.ebankState + '</div>';},
	}, {
		headerName : "Country",
		field : "ebankCountryid",
		cellRenderer: function(params){
			return '<div>' + params.data.ebankCountry + '</div>';},
	},  {
		headerName : "AccountNo",
		field : "ebankAccountNo",
		type:"rightAligned"
	},
	{
		headerName : "Ific",
		field : "eIfic"
	},
	];

	var gridOptions3 = {
		columnDefs : columnDefs3,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 249,
			height : 10
		},
		rowSelection: 'single',
		onSelectionChanged: onSelectionChangedbank
	};
	
	function openNav3() {
		$('#saveEmployee').attr("disabled", true);
		$('#profilecancelbtn').attr("disabled", true);
		$('#bankid').val("");
		$('#banknameid').val("");
		$('#addressid_b').val("");
		$('#addressid_b').val("");
		$('#countryid_b').val("");
		$('#stateid_b').val("");
		$('#cityid').val("");
		$('#accountNOb').val("");
		$('#ificb').val("");
		
		document.getElementById("mySidenav3").style.cssText = "width: 350px; position: absolute; right:-55px; overflow: hidden; height:auto; bottom:50px;";

		document.getElementById("main").style.width = "70%";
	}

	function closeNav3() {
		
		var id = $("#employeeId").val();
		$('#saveEmployee').attr("disabled", false);
		$('#profilecancelbtn').attr("disabled", false);
		agGrid.simpleHttpRequest({
			url : 'view-manage-employee-bankdetails-ajax?id=' + id
		}).then(function(data) {
			gridOptions3.api.setRowData(data);
		});
		
		document.getElementById("mySidenav3").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}
	
	function submitbankdetils(dataset) {
		var id = $("#employeeId").val();
		
		$.ajax({
			type : "POST",
			url : "view-manage-employee-bankdetails-save",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(dataset),
			success : function(response) {
				if (response.message == "Success") {

					closeNav3();

					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-bankdetails-ajax?id=' + id
					}).then(function(data) {
						gridOptions3.api.setRowData(data);
					});

				}
			},
			error : function(response) {
				console.log(response);
			}
		})
	}
	
	function onSelectionChangedbank(){
		
		openNav3();
		
		var selectedNodes= gridOptions3.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		
		var cntryId = selectedData.map(node => node.ebankCountryid);
		var stsId = selectedData.map(node => node.ebankStateid);
		
		$.ajax({
			type : "POST",
			url : "view-manage-employee-state-list",
			dataType : 'json',
			contentType : 'application/json',
			data : cntryId[0],
			success : function(response) {
				if (response.message == "success") {
					console.log(response);
					$("#stateid_b").empty();
					$("#stateid_b").append("<option value=''>Select</option>");
					$("#cityid").empty();
					$("#cityid").append("<option value=''>Select</option>");
					
					for (var i = 0; i < response.body.length; i++) {
						var option = $("<option></option>");
						$(option).val(response.body[i].key);
						$(option).html(response.body[i].name);
						$("#stateid_b").append(option);
					}
					
					var state = selectedData.map(node => node.ebankStateid);
					$('#stateid_b').val(state[0]);
				}
			},
			error : function(data) {
				console.log(data);
				$("#stateid_b").empty();
				$("#stateid_b").append("<option value=''>Select</option>");
				$("#cityid").empty();
				$("#cityid").append("<option value=''>Select</option>");
			}
		})
		
		$.ajax({
				type : "POST",
				url : "view-manage-employee-city-list",
				dataType : 'json',
				contentType : 'application/json',
				data : stsId[0],
				success : function(response) {
					if (response.message == "success") {
						console.log(response);
						$("#cityid").empty();
						$("#cityid").append("<option value=''>Select</option>");
						
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#cityid").append(option);
						}
						
						var cityID = selectedData.map(node => node.ebankCityid);
						
						$('#cityid').val(cityID[0]);
						
					}
				},
				error : function(data) {
					console.log(data);
					$("#cityid").empty();
					$("#cityid").append("<option value=''>Select</option>");
				}
			})
		
		
		$('#bankId').val(selectedData.map(node => node.ebankId));
		$('#banknameid').val(selectedData.map(node => node.ebankNameid));
		$('#addressid_b').val(selectedData.map(node => node.ebankAddress));
		$('#countryid_b').val(selectedData.map(node => node.ebankCountryid));
		
		$('#accountNOb').val(selectedData.map(node => node.ebankAccountNo));
		$('#ificb').val(selectedData.map(node => node.eIfic))
	}
	
	function deletebank(){
		var selectedRows = gridOptions3.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
		selectedRowsString += ',';
		}
		selectedRowsString += '"' + selectedRow.ebankId + '"';
		});
		
		if (selectedRowsString) {
			
			var id = $('#employeeId').val();
			
			$.ajax({
				type : "GET",
				url : "view-manage-employee-bank-delete?id="+ selectedRowsString,
				success : function(response) {
				if (response.message == "Success") {
					closeNav3();
					
					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-bankdetails-ajax?id=' + id
					}).then(function(data) {
						gridOptions3.api.setRowData(data);
					});
				}
				},
				error : function(data) {
				console.log(data);
				}
			})
		} else {
			$('#reqbank').modal('toggle');
		}
	}
	
	//EMPLOYEE BANK DETAILS ENDS
	
	//EMPLOYEE INSURANCE DETAILS STARTS
	
	var columnDefs4 = [ 
	{
		headerName : "Insurance Type",
		field : "einsurancetypeid",
		cellRenderer: function(params){
			return '<div>' + params.data.einsurancetype + '</div>';},
	},  {
		headerName : "Insurance Company",
		field : "einsurancecompanyid",
		cellRenderer: function(params){
			return '<div>' + params.data.einsurancecompany + '</div>';},
	},  {
		headerName : "Insurance Policy No",
		field : "policyno",
		type:"rightAligned"
	}, {
		headerName : "Insurance From Date",
		field : "eifromdate",
		cellStyle : {
			textAlign : 'center'
		}
	}, {
		headerName : "Insurance To Date",
		field : "eitodate",
		cellStyle : {
			textAlign : 'center'
		}
	}, 
	];

	var gridOptions4 = {
		columnDefs : columnDefs4,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 249,
			height : 10
	},
	rowSelection: 'single',
	onSelectionChanged: onSelectionChangedinsurance
	};
	
	function openNav4() {
		$('#saveEmployee').attr("disabled", true);
		$('#profilecancelbtn').attr("disabled", true);
		$('#insuranceId').val("");
		$('#healthinsuranceid').val("");
		$('#incurancecompanyid').val("");
		$('#ploicyNo_').val("");
		$('#pfdateid_').val("");
		
		document.getElementById("mySidenav4").style.cssText = "width: 350px; position: absolute; right:-55px; overflow: hidden; height:auto;";

		document.getElementById("main").style.width = "70%";
	}

	function closeNav4() {
		var id = $("#employeeId").val();
		
		$('#saveEmployee').attr("disabled", false);
		$('#profilecancelbtn').attr("disabled", false);
		
		document.getElementById("mySidenav4").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}
	
	function submitinsurance(dataset) {

		var id = $("#employeeId").val();
		$.ajax({
			type : "POST",
			url : " view-manage-employee-insurancedetails-save",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(dataset),
			success : function(response) {
				if (response.message == "Success") {

					closeNav4();

					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-insurancedetails-ajax?id=' + id

					}).then(function(data) {
						gridOptions4.api.setRowData(data);
					});

				} 
			},
			error : function(response) {
				console.log(response);
			}
		})
	}
	
	function onSelectionChangedinsurance(){
		
		openNav4();
		
		var selectedNodes= gridOptions4.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		$('#insuranceId').val(selectedData.map(node => node.einsuraneId));
		$('#healthinsuranceid').val(selectedData.map(node => node.einsurancetypeid));
		$('#incurancecompanyid').val(selectedData.map(node => node.einsurancecompanyid));
		$('#ploicyNo_').val(selectedData.map(node => node.policyno));
		
		var toD = selectedData.map(node => node.eitodate);
		var fromD = selectedData.map(node => node.eifromdate);
		$('#pfdateid_').val(fromD[0]);
		$('#todates').val(toD[0]);
		$("#pfdateidCalendar").val(fromD[0]);
		$('#todatesCalendar').val(toD[0]);
		
	}
	
	function deleteinsurance(){
		var selectedRows = gridOptions4.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
		selectedRowsString += ',';
		}
		selectedRowsString += '"' + selectedRow.einsuraneId + '"';
		});
		
		if (selectedRowsString) {
			
			var id = $('#employeeId').val();
			
			$.ajax({
				type : "GET",
				url : "view-manage-employee-insurancedetails-delete?id="+ selectedRowsString,
				success : function(response) {
				if (response.message == "Success") {
					closeNav4();
					
					agGrid.simpleHttpRequest({
						url : 'view-manage-employee-insurancedetails-ajax?id=' + id
					}).then(function(data) {
						gridOptions4.api.setRowData(data);
					});
				}
				},
				error : function(data) {
				console.log(data);
				}
			})
		} else {
			$('#reqinsu').modal('toggle');
		}
	}
	
	//EMPLOYEE INSURANCE DETAILS ENDS
	
	
	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {

		var gridDivm = document.querySelector('#myGridEmployee');
		new agGrid.Grid(gridDivm, gridOptionsEmployee);

		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);

		var gridDiv1 = document.querySelector('#myGrid1');
		new agGrid.Grid(gridDiv1, gridOptions1);

		var gridDiv2 = document.querySelector('#myGrid2');
		new agGrid.Grid(gridDiv2, gridOptions2);

		var gridDiv3 = document.querySelector('#myGrid3');
		new agGrid.Grid(gridDiv3, gridOptions3);

		var gridDiv4 = document.querySelector('#myGrid4');
		new agGrid.Grid(gridDiv4, gridOptions4);

	});
	
	//For Employee Table Search Bar
	function onQuickFilterChanged() {
		gridOptionsEmployee.api.setQuickFilter(document
				.getElementById('quickFilter').value);
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
	
	$(document).ready(function(){
		var dateFormat = localStorage.getItem("dateFormat");
		
		//Personal Details
		$("#dobidCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#dobid').val($(this).val());
		})
		
		$('#dobid').blur(function(){
			$("#dobidCalendar").val($(this).val());
		})
		
		//Work Details
		$("#fromdateidCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#fromdateid_').val($(this).val());
		})
		
		$('#fromdateid_').blur(function(){
			$("#fromdateidCalendar").val($(this).val());
		})
		
		$("#todateidCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#todateid_').val($(this).val());
		})
		
		$('#todateid_').blur(function(){
			$("#todateidCalendar").val($(this).val());
		})
		
		//Dependent Date DOB
		$("#typeDOBiddCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#typeDOBidd_').val($(this).val());
		})
		
		$('#typeDOBidd_').blur(function(){
			$("#typeDOBiddCalendar").val($(this).val());
		})
		
		//Insurance Details
		$("#pfdateidCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#pfdateid_').val($(this).val());
		})
		
		$('#pfdateid_').blur(function(){
			$("#pfdateidCalendar").val($(this).val());
		})
		
		
		$("#todatesCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#todates').val($(this).val());
		})
		
		$('#todates').blur(function(){
			$("#todatesCalendar").val($(this).val());
		})
		
	})
	
</script>

</head>
<body>
	<div layout:fragment="content">
		<div class="content-wrap">
			<div class="container-fluid">
				<div class="maincontent">
					<div class="row">

						<div class="maincontentsec">
							<div class="content_padding">
							 	
							<div id="PatHistory" class="tableLeft">
							
							
					        <div class="row">
								<div class="col-md-3" id="bttn" style="padding-bottom: 10px;">
									Medical Data Upload <span id="noticeIdSpan"></span>
								</div><br>
							</div> 
							
							<div class="box-heading">
					                 <h2>Medical Data Upload</h2> 
					            </div>
 
							
								
								<div><br></div>
								
								<div id="thumbs">
                            <div class="col-xs-12">
                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                        <img class="submit" title="Medication" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Medication'" src="F:/EhealthSystem/extendweb/src/main/resources/static/assets/images/login_img/medicalUploadData/prescription.png" style="height: 124px;width: 121px;">


                                    </a>
                                </div>

                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                       
									  <img class="submit" title="Immunization" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Immunization'" src="/Content/Dynamic/userareaupload/11.png" style="height: 124px;width: 121px;">


                                    </a>
                                </div>

                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                        
										<img class="submit" title="Allergy" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Allergy%20Test'" src="/Content/Dynamic/userareaupload/allergy.png" style="height: 124px;width: 121px;">
                                    </a>
                                </div>
                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                      <img class="submit" title="Lab Reports" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Blood'" src="/Content/Dynamic/userareaupload/blood.png" style="height: 124px;width: 121px;">

                                    </a>
                                </div>
                                
                                  <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
									 <img class="submit" title="Labtest" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Test%20Report'" src="/Content/Dynamic/userareaupload/lab.png" style="height: 124px;width: 121px;">
									  

                                    </a>
                                </div>
                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
									<img class="submit" title="CT-Scan" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=CT%20Scan'" src="/Content/Dynamic/userareaupload/ctscan.png" style="height: 124px;width: 121px;">
                                        
                                    </a>
                                </div>

                            </div>


                            <div class="col-xs-12">

                              
								  <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
								<img class="submit" title="MRI" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=MRI'" src="/Content/Dynamic/userareaupload/mri.png" style="height: 124px;width: 121px;">
  </a>
                                </div>

                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                        <img class="submit" title="Sonography" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Sonography'" src="/Content/Dynamic/userareaupload/sonography.png" style="height: 124px;width: 121px;">
                                        
                                    </a>
                                </div>
                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                        <img class="submit" title="X-Ray" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=X-Ray'" src="/Content/Dynamic/userareaupload/xray.png" style="height: 124px;width: 121px;">

                                    </a>
                                </div>
                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                        <img class="submit" title="Stresstest" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Stress%20Test'" src="/Content/Dynamic/userareaupload/stresstest.png" style="height: 124px;width: 121px;">

                                    </a>
                                </div>
                                <div class="col-xs-4" style="width: 168px;">
                                    <a class="thumbnail" href="#" style="width: 135px;">
                                        <img class="submit" title="Other" onclick="location.href ='/EMR/UserArea?submit=submit&amp;name=submit&amp;doctype=Other'" src="/Content/Dynamic/userareaupload/other.png" style="height: 124px;width: 121px;">

                                    </a>
                                </div>
                            </div>
                           
                    </div>
								
									
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	  </div>
	</div>
</body>
</html>